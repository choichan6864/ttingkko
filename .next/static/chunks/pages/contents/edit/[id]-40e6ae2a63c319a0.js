(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[929],{7964:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/contents/edit/[id]",function(){return i(7565)}])},7667:function(e,t,i){"use strict";i.d(t,{Z:function(){return a}});var n=i(5893),s=i(357),o=i.n(s);function a(e){let{event:t,text:i,mod:s,title:a}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{type:s,onClick:t,title:a,className:"jsx-cafc40fce5e7812f",children:i}),(0,n.jsx)(o(),{id:"cafc40fce5e7812f",children:"button.jsx-cafc40fce5e7812f{height:40px;cursor:pointer;background-color:rgb(0,0,0,0);border:1px solid white;width:40px}"})]})}},840:function(e,t,i){"use strict";i.d(t,{Z:function(){return l}});var n=i(5893),s=i(357),o=i.n(s),a=i(7294),r=i(7667);function l(e){let{index:t,Contents:i,ListText:s}=e,[l,c]=(0,a.useState)(!0),[x,d]=(0,a.useState)(""!==s),[b,f]=(0,a.useState)({listText:s,contents:i}),u=(0,a.useRef)(null),p=(0,a.useRef)(null),{listText:m,contents:j}=b,h=e=>f({contents:e.target.innerHTML,listText:m}),g=e=>f({contents:j,listText:e.target.innerHTML}),w=()=>c(!1),k=()=>{""!==b.contents&&""!==b.listText&&d(!0)};return(0,a.useEffect)(()=>{var e;null===(e=p.current)||void 0===e||e.focus()},[x]),(0,n.jsx)(n.Fragment,{children:l?(0,n.jsxs)(n.Fragment,{children:[x?(0,n.jsxs)("div",{className:"jsx-586fa9a21cbf66b9 list",children:[(0,n.jsxs)("h1",{className:"jsx-586fa9a21cbf66b9",children:[(0,n.jsx)("span",{className:"jsx-586fa9a21cbf66b9",children:t+1}),(0,n.jsx)("span",{className:"jsx-586fa9a21cbf66b9",children:"."}),(0,n.jsx)("span",{className:"jsx-586fa9a21cbf66b9 listText",children:m}),(0,n.jsx)(r.Z,{text:"\uD83D\uDDD1",mod:"button",event:()=>{c(!1)},title:"수정"}),(0,n.jsx)(r.Z,{text:"\uD83D\uDD8D",mod:"button",event:()=>{d(!1)},title:"수정"})]}),(0,n.jsx)("hr",{className:"jsx-586fa9a21cbf66b9"}),(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:j},className:"jsx-586fa9a21cbf66b9 contents"}),(0,n.jsx)("input",{type:"hidden",name:"listText",value:b.listText,className:"jsx-586fa9a21cbf66b9"}),(0,n.jsx)("input",{type:"hidden",name:"contents",value:b.contents,className:"jsx-586fa9a21cbf66b9"})]},t):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"jsx-586fa9a21cbf66b9 element-to-plus",children:[(0,n.jsxs)("div",{className:"jsx-586fa9a21cbf66b9 input-group",children:[""===m?(0,n.jsx)("div",{className:"jsx-586fa9a21cbf66b9 list-name-input-placeholder input-placeholder",children:"추가할 이름"}):null,(0,n.jsx)("div",{onInput:g,contentEditable:!0,onFocus:e=>{if(e.target.innerHTML!==m){var t;e.target.innerHTML=m,null===(t=u.current)||void 0===t||t.focus()}},ref:p,className:"jsx-586fa9a21cbf66b9 input list-name-input"})]}),(0,n.jsx)("hr",{className:"jsx-586fa9a21cbf66b9"}),(0,n.jsxs)("div",{className:"jsx-586fa9a21cbf66b9 input-group",children:[""===j?(0,n.jsx)("div",{className:"jsx-586fa9a21cbf66b9 input-placeholder contents-input-placeholder ",children:"내용"}):null,(0,n.jsx)("div",{onInput:h,contentEditable:!0,ref:u,onFocus:e=>{if(e.target.innerHTML!==j){var t;e.target.innerHTML=j,null===(t=p.current)||void 0===t||t.focus()}},className:"jsx-586fa9a21cbf66b9 input content-input"})]})]}),(0,n.jsxs)("div",{className:"jsx-586fa9a21cbf66b9",children:[(0,n.jsx)("button",{onClick:w,type:"button",className:"jsx-586fa9a21cbf66b9 cancel-button",children:"취소"}),(0,n.jsx)("button",{onClick:k,type:"button",className:"jsx-586fa9a21cbf66b9 save-button",children:"저장"})]})]}),(0,n.jsx)(o(),{id:"586fa9a21cbf66b9",children:".list-name-input-placeholder.jsx-586fa9a21cbf66b9{font-size:16px;padding-top:18px}.contents-input-placeholder.jsx-586fa9a21cbf66b9{font-size:12px;padding-top:7px}.input-placeholder.jsx-586fa9a21cbf66b9{position:absolute;padding-left:10px;color:rgb(255,255,255,.5)}.input-group.jsx-586fa9a21cbf66b9{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.input.jsx-586fa9a21cbf66b9{position:relative;left:0;width:100%;border:1px solid white;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;margin-bottom:20px;color:white}.list-name-input.jsx-586fa9a21cbf66b9{padding:10px 0 10px 10px;font-size:25px;font-weight:bold}.content-input.jsx-586fa9a21cbf66b9{padding:5px 0 5px 10px}.element-to-plus.jsx-586fa9a21cbf66b9{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}hr.jsx-586fa9a21cbf66b9{border-bottom:1px solid white;margin-bottom:20px}.plus-list-input.jsx-586fa9a21cbf66b9{padding-left:10px;height:35px;font-size:15px;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px}.cancel-button.jsx-586fa9a21cbf66b9{cursor:pointer;width:5rem;height:35px;color:black;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px}.save-button.jsx-586fa9a21cbf66b9{color:black;cursor:pointer;width:5rem;height:35px;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px}.contents.jsx-586fa9a21cbf66b9{padding-left:1.4rem}.list-group.jsx-586fa9a21cbf66b9{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.list.jsx-586fa9a21cbf66b9{margin-bottom:20px}.listText.jsx-586fa9a21cbf66b9{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1}h1.jsx-586fa9a21cbf66b9{font-size:25px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;height:40px;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}"})]}):null})}},5501:function(e,t,i){"use strict";i.d(t,{Z:function(){return l}});var n=i(5893),s=i(357),o=i.n(s),a=i(7294),r=i(7667);function l(e){let{onClickPlusButton:t}=e,[i,s]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{window.addEventListener("scroll",()=>{window.scrollY>150&&!i?s(!0):s(!1)})},[]),(0,n.jsxs)("div",{className:o().dynamic([["ef435982b37d4881",[i?"position: fixed;":"margin-bottom:20px;"]]])+" tool-bar",children:[(0,n.jsx)(r.Z,{mod:"button",text:"+",event:t,title:"목록 추가"}),(0,n.jsx)(r.Z,{text:"\uD83D\uDCC4",mod:"submit",event:()=>{},title:"저장"}),(0,n.jsx)(r.Z,{text:"\uD83D\uDDBC",mod:"button",event:()=>{},title:"이미지 추가"}),(0,n.jsx)(o(),{id:"ef435982b37d4881",dynamic:[i?"position: fixed;":"margin-bottom:20px;"],children:".tool-bar.__jsx-style-dynamic-selector{height:40px;".concat(i?"position: fixed;":"margin-bottom:20px;","\n            background-color:rgb(80, 80, 80);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;z-index:1;max-width:1e3px;width:100%;top:90px}")})]})}},7565:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return b}});var n=i(5893),s=i(357),o=i.n(s),a=i(7294),r=i(6154),l=i(1163),c=i(840),x=i(5501),d=i(9473);function b(){let[e,t]=(0,a.useState)(""),[i,s]=(0,a.useState)([]),[b,f]=(0,a.useState)([]),[u,p]=(0,a.useState)(!1),m=(0,d.v9)(e=>({login:e.activeLogin,loginLink:e.loginLink})),j=(0,l.useRouter)(),h=()=>{f([...b,b[0]?1:b[b.length-1]+1])},g=e=>{0!=b[0]?e.preventDefault():p(!0)};return(0,a.useEffect)(()=>{let e=e=>{u||(e.returnValue=!0)};return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)},[u]),(0,a.useEffect)(()=>{j.query.id&&(async()=>{let{data:e}=await r.Z.get("/api/contents/".concat(j.query.id)),{contents:i}=e,n=[],o=[];t(i.personName),"string"!=typeof i.contents?i.contents.map((e,t)=>{n.push({listText:i.listText[t],contents:i.contents[t]}),o.push(t)}):(n.push({listText:i.listText,contents:i.contents}),o.push(0)),f(o),s(n)})()},[j.isReady,j.query]),(0,n.jsx)(n.Fragment,{children:m.login?(0,n.jsxs)("form",{action:"/api/edit",method:"post",onSubmit:g,className:"jsx-def88fc61763411",children:[(0,n.jsx)("h1",{className:"jsx-def88fc61763411",children:e}),(0,n.jsx)("input",{type:"hidden",name:"personName",value:e,className:"jsx-def88fc61763411"}),(0,n.jsx)(x.Z,{onClickPlusButton:h}),b.map(e=>i.length-1>=e?(0,n.jsx)(c.Z,{Contents:i[e].contents,ListText:i[e].listText,index:e},e):(0,n.jsx)(c.Z,{Contents:"",ListText:"",index:e},e)),(0,n.jsx)(o(),{id:"def88fc61763411",children:'h1.jsx-def88fc61763411{font-size:40px;margin-bottom:20px}.cancel-button.jsx-def88fc61763411{cursor:pointer;width:5rem;height:35px;color:black;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px}.save-button.jsx-def88fc61763411{color:black;cursor:pointer;width:5rem;height:35px;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px}.plus-input.jsx-def88fc61763411{padding-left:20px;height:50px;font-size:20px;margin-bottom:20px;-webkit-border-radius:15px;-moz-border-radius:15px;border-radius:15px;color:black}input[type="submit"].jsx-def88fc61763411{height:50px}form.jsx-def88fc61763411{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%}'})]}):null})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=7964)}),_N_E=e.O()}]);