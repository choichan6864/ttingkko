(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[929],{7964:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/contents/edit/[id]",function(){return i(7565)}])},7667:function(e,t,i){"use strict";i.d(t,{Z:function(){return o}});var n=i(5893),s=i(357),c=i.n(s);function o(e){let{event:t,text:i,mod:s,title:o}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{type:s,onClick:t,title:o,className:"jsx-cafc40fce5e7812f",children:i}),(0,n.jsx)(c(),{id:"cafc40fce5e7812f",children:"button.jsx-cafc40fce5e7812f{height:40px;cursor:pointer;background-color:rgb(0,0,0,0);border:1px solid white;width:40px}"})]})}},840:function(e,t,i){"use strict";i.d(t,{Z:function(){return l}});var n=i(5893),s=i(357),c=i.n(s),o=i(7294),r=i(7667);function l(e){let{index:t,remove:i,Contents:s,ListText:l,setListToTrue:x,setListToFalse:a}=e,[d,u]=(0,o.useState)({listText:l,contents:s}),[f,p]=(0,o.useState)(""===s),b=(0,o.useRef)(null),m=(0,o.useRef)(null),{listText:j,contents:h}=d,g=e=>u({contents:e.target.innerHTML,listText:j}),w=e=>u({...d,listText:e.target.innerHTML}),v=()=>{""===s&&""===l?i(t):(u({listText:l,contents:s}),p(!1))},k=()=>{""!==d.contents&&""!==d.listText&&(p(!1),x())};return(0,o.useEffect)(()=>{var e;null===(e=m.current)||void 0===e||e.focus()},[f]),(0,n.jsxs)(n.Fragment,{children:[f?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"jsx-c85f246c520f0c29 element-to-plus",children:[(0,n.jsxs)("div",{className:"jsx-c85f246c520f0c29 input-group",children:[""===j?(0,n.jsx)("div",{className:"jsx-c85f246c520f0c29 list-name-input-placeholder input-placeholder",children:"추가할 이름"}):null,(0,n.jsx)("div",{onInput:w,contentEditable:!0,onFocus:e=>{if(e.target.innerHTML!==j){var t;e.target.innerHTML=j,null===(t=b.current)||void 0===t||t.focus()}},ref:m,className:"jsx-c85f246c520f0c29 input list-name-input"})]}),(0,n.jsx)("hr",{className:"jsx-c85f246c520f0c29"}),(0,n.jsxs)("div",{className:"jsx-c85f246c520f0c29 input-group",children:[""===h?(0,n.jsx)("div",{className:"jsx-c85f246c520f0c29 input-placeholder contents-input-placeholder ",children:"내용"}):null,(0,n.jsx)("div",{onInput:g,contentEditable:!0,ref:b,onFocus:e=>{if(e.target.innerHTML!==h){var t;e.target.innerHTML=h,null===(t=m.current)||void 0===t||t.focus()}},className:"jsx-c85f246c520f0c29 input content-input"})]})]}),(0,n.jsxs)("div",{className:"jsx-c85f246c520f0c29",children:[(0,n.jsx)("button",{onClick:v,type:"button",className:"jsx-c85f246c520f0c29 cancel-button",children:"취소"}),(0,n.jsx)("button",{onClick:k,type:"button",className:"jsx-c85f246c520f0c29 save-button",children:"저장"})]})]}):(0,n.jsxs)("div",{className:"jsx-c85f246c520f0c29 list",children:[(0,n.jsxs)("h1",{className:"jsx-c85f246c520f0c29",children:[(0,n.jsx)("span",{className:"jsx-c85f246c520f0c29",children:t+1}),(0,n.jsx)("span",{className:"jsx-c85f246c520f0c29",children:"."}),(0,n.jsx)("span",{className:"jsx-c85f246c520f0c29 listText",children:j}),(0,n.jsx)(r.Z,{text:"\uD83D\uDDD1",mod:"button",event:()=>i(t),title:"수정"}),(0,n.jsx)(r.Z,{text:"\uD83D\uDD8D",mod:"button",event:()=>{p(!0),a()},title:"수정"})]}),(0,n.jsx)("hr",{className:"jsx-c85f246c520f0c29"}),(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:h},className:"jsx-c85f246c520f0c29 contents"}),(0,n.jsx)("input",{type:"hidden",name:"listText",value:d.listText,className:"jsx-c85f246c520f0c29"}),(0,n.jsx)("input",{type:"hidden",name:"contents",value:d.contents,className:"jsx-c85f246c520f0c29"})]},t),(0,n.jsx)(c(),{id:"c85f246c520f0c29",children:".list-name-input-placeholder.jsx-c85f246c520f0c29{font-size:16px;padding-top:14px}.contents-input-placeholder.jsx-c85f246c520f0c29{font-size:12px;padding-top:7px}.input-placeholder.jsx-c85f246c520f0c29{position:absolute;padding-left:10px;color:rgb(255,255,255,.5)}.input-group.jsx-c85f246c520f0c29{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.input.jsx-c85f246c520f0c29{position:relative;left:0;width:100%;border:1px solid white;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;margin-bottom:20px;color:white}.list-name-input.jsx-c85f246c520f0c29{padding:10px 0 10px 10px;font-size:25px;font-weight:bold}.content-input.jsx-c85f246c520f0c29{padding:5px 0 5px 10px}.element-to-plus.jsx-c85f246c520f0c29{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}hr.jsx-c85f246c520f0c29{border-bottom:1px solid white;margin-bottom:20px}.plus-list-input.jsx-c85f246c520f0c29{padding-left:10px;height:35px;font-size:15px;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px}.cancel-button.jsx-c85f246c520f0c29{cursor:pointer;width:5rem;height:35px;color:black;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px}.save-button.jsx-c85f246c520f0c29{color:black;cursor:pointer;width:5rem;height:35px;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px}.contents.jsx-c85f246c520f0c29{padding-left:1.4rem}.list-group.jsx-c85f246c520f0c29{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.list.jsx-c85f246c520f0c29{margin-bottom:20px}.listText.jsx-c85f246c520f0c29{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1}h1.jsx-c85f246c520f0c29{font-size:25px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;height:40px;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}"})]})}},5501:function(e,t,i){"use strict";i.d(t,{Z:function(){return l}});var n=i(5893),s=i(357),c=i.n(s),o=i(7294),r=i(7667);function l(e){let{onClickPlusButton:t}=e,[i,s]=(0,o.useState)(!1),[l,x]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{window.addEventListener("scroll",()=>{window.scrollY>150&&!l?x(!0):x(!1)})},[]),(0,o.useEffect)(()=>{let e=e=>{e.preventDefault(),i||(e.returnValue=!0)};return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)},[i]),(0,n.jsxs)("div",{className:c().dynamic([["ef435982b37d4881",[l?"position: fixed;":"margin-bottom:20px;"]]])+" tool-bar",children:[(0,n.jsx)(r.Z,{mod:"button",text:"+",event:t,title:"목록 추가"}),(0,n.jsx)(r.Z,{text:"\uD83D\uDCC4",mod:"submit",event:()=>{s(!0)},title:"저장"}),(0,n.jsx)(r.Z,{text:"\uD83D\uDDBC",mod:"button",event:()=>{},title:"이미지 추가"}),(0,n.jsx)(c(),{id:"ef435982b37d4881",dynamic:[l?"position: fixed;":"margin-bottom:20px;"],children:".tool-bar.__jsx-style-dynamic-selector{height:40px;".concat(l?"position: fixed;":"margin-bottom:20px;","\n            background-color:rgb(80, 80, 80);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;z-index:1;max-width:1e3px;width:100%;top:90px}")})]})}},7565:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return f}});var n=i(5893),s=i(357),c=i.n(s),o=i(7294),r=i(6154),l=i(1163),x=i(840),a=i(5501),d=i(9473);function u(){let[e,t]=(0,o.useState)(""),[i,s]=(0,o.useState)([]),[u,f]=(0,o.useState)([]),p=(0,d.v9)(e=>({login:e.activeLogin,loginLink:e.loginLink})),b=(0,l.useRouter)(),m=e=>{s(t=>{let i=t.filter((t,i)=>i!==e);return i})},j=e=>{s(t=>{let i=t;return i[e]={active:!0,i:e},i})},h=e=>{s(t=>{let i=t;return i[e]={active:!1,i:e},i})},g=()=>{let e=i.length;s([...i,{active:!1,i:e}])},w=t=>{console.log(i),i[0]&&""!==e||t.preventDefault()};return(0,o.useEffect)(()=>{b.query.id&&(async()=>{let{data:e}=await r.Z.get("/api/contents/".concat(b.query.id)),{contents:i}=e,n=[],c=[];t(i.personName),"string"!=typeof i.contents?i.contents.map((e,t)=>{n.push({listText:i.listText[t],contents:i.contents[t]}),c.push({active:!0,i:t})}):(n.push({listText:i.listText,contents:i.contents}),c.push({active:!0,i:0})),s(c),f(n)})()},[b.isReady,b.query]),(0,n.jsx)(n.Fragment,{children:p.login?(0,n.jsxs)("form",{action:"/api/edit",method:"post",onSubmit:w,className:"jsx-c9475901330e0bdb",children:[(0,n.jsx)("h1",{className:"jsx-c9475901330e0bdb",children:e}),(0,n.jsx)("input",{type:"hidden",name:"personName",value:e,className:"jsx-c9475901330e0bdb"}),(0,n.jsx)(a.Z,{onClickPlusButton:g}),i.map((e,t)=>u.length-1>=t?(0,n.jsx)(x.Z,{Contents:u[t].contents,ListText:u[t].listText,remove:()=>m(t),index:t,setListToTrue:()=>j(t),setListToFalse:()=>h(t)},e.i):(0,n.jsx)(x.Z,{Contents:"",ListText:"",remove:()=>m(t),index:t,setListToTrue:()=>j(t),setListToFalse:()=>h(t)},e.i)),(0,n.jsx)(c(),{id:"c9475901330e0bdb",children:'h1.jsx-c9475901330e0bdb{font-size:40px}.cancel-button.jsx-c9475901330e0bdb{cursor:pointer;width:5rem;height:35px;color:black;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px}.save-button.jsx-c9475901330e0bdb{color:black;cursor:pointer;width:5rem;height:35px;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px}.plus-input.jsx-c9475901330e0bdb{padding-left:20px;height:50px;font-size:20px;margin-bottom:20px;-webkit-border-radius:15px;-moz-border-radius:15px;border-radius:15px;color:black}input[type="submit"].jsx-c9475901330e0bdb{height:50px}form.jsx-c9475901330e0bdb{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%}'})]}):null})}function f(){return(0,n.jsx)(u,{})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=7964)}),_N_E=e.O()}]);